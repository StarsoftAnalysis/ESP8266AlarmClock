commit 84a7b116e5d23a5786f76bf45d7576ef01bcc940
Author: starsoftanalysis <chris@starsoftanalysis.co.uk>
Date:   Fri Jun 11 21:28:20 2021 +0100

    no more jquery; finishing async changes; starting uncssing

diff --git a/AlarmClock/AlarmClock.ino b/AlarmClock/AlarmClock.ino
index dfff9ec..92e51e9 100644
--- a/AlarmClock/AlarmClock.ino
+++ b/AlarmClock/AlarmClock.ino
@@ -160,6 +160,7 @@ ESP_WM_LITE_Configuration defaultConfig;
 #include "settingspage.h"
 #include "wifipage.h"
 #include "js.h"
+#include "css.h"
 
 // -----------------------------
 
@@ -242,6 +243,10 @@ static void handleJS (AsyncWebServerRequest* req) {
     PRINTF("Sending '/js' length %d\n", strlen_P(js));
     req->send_P(200, "text/javascript", js);
 }
+static void handleCSS (AsyncWebServerRequest* req) {
+    PRINTF("Sending '/css' length %d\n", strlen_P(css));
+    req->send_P(200, "text/css", css);
+}
 
 static void handleNotFound (AsyncWebServerRequest* req) {
     if (req->method() == HTTP_OPTIONS) {
@@ -276,14 +281,6 @@ static void handleTime(AsyncWebServerRequest* req) {
 
 //static bool webActive = false;
 static void handleSetAlarm(AsyncWebServerRequest* req) {
-/*
-    // single threaded
-    if (webActive) {
-        server.send(503, "text/html", "busy - single threaded");
-        return;
-    }
-    webActive = true;
-*/
     config_t newConfig;
     bool melodyChanged = false;
 
@@ -333,7 +330,6 @@ static void handleSetAlarm(AsyncWebServerRequest* req) {
 
     storeConfig(&newConfig);    // also copies newConfig to config
     req->send(200, "text/html", "Alarm Set");
-    //webActive = false;
 }
 
 static void handleGetAlarm(AsyncWebServerRequest* req) {
@@ -364,25 +360,14 @@ static void handleGetAlarm(AsyncWebServerRequest* req) {
 }
 
 static void handleGetSettings(AsyncWebServerRequest* req) {
-    /* // single threaded
-    if (webActive) {
-        server.send(503, "text/html", "busy - single threaded");
-        return;
-    }
-    webActive = true; */
-
-    DynamicJsonDocument json(2000); // FIXME tune this
-
+    DynamicJsonDocument json(1024); // FIXME tune this
     json["volume"] = config.volume;
     json["melody"] = String(config.melody);
     json["tz"] = String(config.tz);
-
     String s;
     serializeJson(json, s);
     Serial.printf("hGA: sending %s\n", s.c_str());
     req->send(200, "text/plain", s);
-
-    //webActive = false;
 }
 
 /*
@@ -713,6 +698,7 @@ void setup() {
     server.on("/settings", handleSettings);
     server.on("/wifisettings", handleWifiSettings);
     server.on("/js", handleJS);
+    server.on("/css", handleCSS);
     server.on("/setAlarm", handleSetAlarm);
     server.on("/getAlarm", handleGetAlarm);
     server.on("/getSettings", handleGetSettings);
diff --git a/AlarmClock/js.h b/AlarmClock/js.h
index 372da1b..feb2f0d 100644
--- a/AlarmClock/js.h
+++ b/AlarmClock/js.h
@@ -1,117 +1,164 @@
 const char js[] PROGMEM = R"=====(
 
+// Fields by id 
+let volume, volumeOutput, melody, tz, status, saveAlarmButton, saveSettingsButton, adcValue, wifiValue, currentTime;
+let time = [];
+let set = [];
+
 function saveAlarm() {
     var parms = "";
     for (var dy = 0; dy < 7; dy++) {
-        var alarmTime = $("#time"+dy).val();
+        var alarmTime = time[dy].value;
         if (!alarmTime) {
             alarmTime = "00:00";
         }
         parms += "&alarmTime" + dy + "=" + alarmTime + ";";
-        parms += "&alarmSet"  + dy + "=" + ($("#set"+dy).prop('checked') ? "1" : "0") + ";"
+        parms += "&alarmSet"  + dy + "=" + (set[dy].prop('checked') ? "1" : "0") + ";"
     }
-    $.ajax({"url": "setAlarm?" + parms, "success": alarmSuccess, "error": ajaxError});
+    //$.ajax({"url": "setAlarm?" + parms, "success": alarmSuccess, "error": ajaxError});
+    fetch("/setAlarm", { method: 'POST', body: parms, headers: { 'Content-Type': 'text/plain' } })
+    .then(alarmSuccess);
 }
 
-function saveSettings() {
-    var parms = "volume=" + $("#volume").val();
-    parms += "&melody=" + encodeURIComponent($("#melody").val());
-    parms += "&tz=" + encodeURIComponent($("#tz").val());
-    $.ajax({"url": "saveSettings?" + parms, "success": settingsSuccess, "error": ajaxError});
+// NOTE: calls same endpoint as setAlarm -- even though we're only supplying some of the information
+function saveSettings () {
+    var parms = "volume=" + volume.value;
+    parms += "&melody=" + encodeURIComponent(melody.value);
+    parms += "&tz=" + encodeURIComponent(tz.value);
+    //$.ajax({"url": "setAlarm?" + parms, "success": settingsSuccess, "error": ajaxError});
+    fetch("/setAlarm", { method: 'POST', body: parms, headers: { 'Content-Type': 'text/plain' } })
+    .then(alarmSuccess);
 }
 
-function alarmSuccess (data, status) {
-    $("#status").html("Settings saved");
-    console.log("setAlarm ajax success: data=" + data + ", status=" + status);
-    window.setTimeout(function(){ $("#status").html("Saved") }, 5000);
+function alarmSuccess () {
+    status.textContent = "Settings saved";
+    window.setTimeout(function(){ status.textContent = "Saved"; }, 5000);   // FIXME
     getAlarm();	// update values (in case server constrained results)
 }
 
 function settingsSuccess (data, status) {
-    $("#status").html("Settings saved");
+    status.textContnt = "Settings saved";
     console.log("setAlarm ajax success: data=" + data + ", status=" + status);
-    window.setTimeout(function(){ $("#status").html("Saved") }, 5000);
+    window.setTimeout(function(){ status.textContent = "Saved"; }, 5000); // likewise
     getSettings();	// update values (in case server constrained results)
 }
 
-function ajaxError (data, status) {
-    $("#status").html("ERROR! data=" + data + ", status=" + status);
-    window.setTimeout(function(){ $("#status").html("Failed") }, 5000);
-    //getAlarm();	// update values (in case server constrained results)
-}
+//function ajaxError (data, status) {
+//    status.textContent = "ERROR! data=" + data + ", status=" + status);
+//    window.setTimeout(function(){ status.textContent = "Failed"; }, 5000);
+//    //getAlarm();	// update values (in case server constrained results)    FIXME why commented out?
+//}
 
-function displayAlarm(data) {
-    var obj = JSON.parse(data);
-    //console.log("displayAlarm got %s i.e. %s", data, obj);
+function displayAlarm (json) {
+    //var json = JSON.parse(data);
+    //console.log("displayAlarm got %s i.e. %s", data, json);
     for (var dy = 0; dy < 7; dy++) {
-        $("#time"+dy).val(obj["alarmDay"][dy]["alarmTime"]);
-        let alarmSet = obj["alarmDay"][dy]["alarmSet"] == "1";
-        $("#set"+dy).prop("checked", alarmSet);
+        time[dy].value = json["alarmDay"][dy]["alarmTime"];
+        set[y].checked = (json["alarmDay"][dy]["alarmSet"] == "1");
     }
 }
 
-function displaySettings(data) {
-    var obj = JSON.parse(data);
-    //console.log("displaySettings got %s i.e. %s", data, obj);
-    $("#volume").val(obj["volume"]);
-    $("#volumeOutput").text(obj["volume"]);
-    $("#melody").val(obj["melody"]);
-    $("#tz").val(obj["tz"]);
-    volumeOutput.textContent = volume.value;
+function displaySettings (json) {
+    //var json = JSON.parse(data);
+    //console.log("displaySettings got %s i.e. %s", data, json);
+    volume.value = json["volume"];
+    volumeOutput.textContent = json["volume"];
+    melody.value = json["melody"];
+    tz.value = json["tz"];
 }
 
 function getAlarm(){
-    $.ajax({url: "getAlarm",
-            type: "POST",
-            success: displayAlarm});
+    //$.ajax({url: "getAlarm",
+    //        type: "POST",
+    //        success: displayAlarm});
+    fetch("/getAlarm")
+    .then(response => response.json())
+    .then(() => {
+        if (window.location.pathname == "/") {
+            displayAlarm();
+        } else {
+            displaySettings();
+        }
+    });
 }
 
 function getSettings(){
-    $.ajax({url: "getSettings",
-            type: "POST",
-            success: displaySettings});
+    //$.ajax({url: "getSettings",
+    //        type: "POST",
+    //        success: displaySettings});
+    fetch("/getSettings")
+    .then(response => response.json())
+    .then(displaySettings);
 }
 
-
 function getData() {
-    var xhttp = new XMLHttpRequest();
-    xhttp.onreadystatechange = function() {
-        if (this.readyState == 4 && this.status == 200) {
-            document.getElementById("ADCValue").innerHTML = this.responseText;
-        }
-    };
-    xhttp.open("GET", "readADC", true);
-    xhttp.send();
+    //var xhttp = new XMLHttpRequest();
+    //xhttp.onreadystatechange = function() {
+    //    if (this.readyState == 4 && this.status == 200) {
+    //        document.getElementById("ADCValue").innerHTML = this.responseText;
+    //    }
+    //};
+    //xhttp.open("GET", "readADC", true);
+    //xhttp.send();
+    fetch("/readADC")
+    .then(response => response.text())
+    .then(text => {
+        adcValue.textContent = text;
+    });
 }
 
 function getWiFi() {
-    var xhttp = new XMLHttpRequest();
-    xhttp.onreadystatechange = function() {
-        if (this.readyState == 4 && this.status == 200) {
-            document.getElementById("WiFiValue").innerHTML = this.responseText;
-        }
-    };
-    xhttp.open("GET", "getWiFi", true);
-    xhttp.send();
+    //var xhttp = new XMLHttpRequest();
+    //xhttp.onreadystatechange = function() {
+    //    if (this.readyState == 4 && this.status == 200) {
+    //        document.getElementById("WiFiValue").innerHTML = this.responseText;
+    //    }
+    //};
+    //xhttp.open("GET", "getWiFi", true);
+    //xhttp.send();
+    fetch("/getWiFi")
+    .then(response => response.text())
+    .then(text => {
+        wifiValue.textContent = text;
+    });
 }
 
 function getTime() {
-    var xhttp = new XMLHttpRequest();
-    xhttp.onreadystatechange = function() {
-        if (this.readyState == 4 && this.status == 200) {
-            document.getElementById("currentTime").innerHTML = this.responseText;
-        }
-    };
-    xhttp.open("GET", "getTime", true);
-    xhttp.send();
+    //var xhttp = new XMLHttpRequest();
+    //xhttp.onreadystatechange = function() {
+    //    if (this.readyState == 4 && this.status == 200) {
+    //        document.getElementById("currentTime").innerHTML = this.responseText;
+    //    }
+    //};
+    //xhttp.open("GET", "getTime", true);
+    //xhttp.send();
+    fetch("/getTime")
+    .then(response => response.text())
+    .then(text => {
+        currentTime.textContent = text;
+    });
 }
 
-$(document).ready(function() {
-
-    const saveAlarmButton = document.getElementById('saveAlarm');
-    const saveSettingsButton = document.getElementById('saveSettings');
-    const volumeInput  = document.querySelector('#volume');
-    const volumeOutput = document.querySelector('#volumeOutput');
+//$(document).ready(function() {
+window.onload = function () {
+
+    const id = document.getElementById.bind(document);
+    const cname = document.getElementsByClassName.bind(document);
+
+    volume = id("volume");
+    volumeOutput = id("volumeOutput");
+    melody = id("melody");
+    tz = id("tz");
+    status = id("status");
+    saveAlarmButton = id("saveAlarm");
+    saveSettingsButton = id("saveSettings");
+    adcValue = id("ADCValue");
+    wifiValue = id("WiFiValue");
+    currentTime = id("currentTime");
+    for (let i = 0; i < 7; i++) {
+        time[i] = id("time" + i);
+        set[i] = id("set" + i);
+    }
 
     getWiFi();
     getData();
@@ -125,8 +172,8 @@ $(document).ready(function() {
             getTime();
         }, 2000);
     } else {
-        volumeOutput.textContent = volumeInput.value;
-        volumeInput.addEventListener('input', function() {
+        volumeOutput.textContent = volume.value;
+        volume.addEventListener('input', function() {
             //const parms = "volume=" + volume.value.toString();
             //$.ajax({"url": "setvolume?" + parms, "success": setVolume, "error": ajaxError});
             volumeOutput.textContent = volume.value;
@@ -139,5 +186,5 @@ $(document).ready(function() {
         }, 2000);
     }
 
-});
+};
 )=====";
diff --git a/AlarmClock/mainpage.h b/AlarmClock/mainpage.h
index 57ba2c9..e3f2323 100644
--- a/AlarmClock/mainpage.h
+++ b/AlarmClock/mainpage.h
@@ -27,10 +27,13 @@ const char mainpage[] PROGMEM = R"=====(
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyM0IyNEUzNzU1NTExRTlCMzkxRjQ2OEExQ0JBRDQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyM0IyNEU0NzU1NTExRTlCMzkxRjQ2OEExQ0JBRDQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzIzQjI0RTE3NTU1MTFFOUIzOTFGNDY4QTFDQkFENDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzIzQjI0RTI3NTU1MTFFOUIzOTFGNDY4QTFDQkFENDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6w1L5cAAACMUlEQVR42sRX3ZGCQAwW5hqwBa4EeLqne8ASsAQoQUvQEqSEowR5uKd7ckuQFizBS5ys8xF3dUEcMxNxdDf58h+i8/k8eyd98EcURUGHs6/vOT1y4kSeSC1xx8/D3+8pRB4bH10+HgAgxaysJC4CDWuIawLSPgVALN4NUOwCUvk8chcAKU/psSeew88sqCY2zCS4k7McklS4dNxZ0FkTDIAElmI5ClmTkDowV/j+RgGp9H0nAIflHMely42SGzNXrCV8P5CsN564ASCXDpLlM0mkymPlTtw95ByHLLPGsO5YnV+BcuMTKpR4vvdIZBg4t8L/Y0CKfzLC5YT9ZikyL0aKrj4AcBPT1mb4FCSyti5dCKBQ9Ts1NS5dMbjfuqWd0nrlBVstiQ2D9UCqevqrCGWnCACzuHshgE5XTuw4dHohgBvZ8USCc4rpasxFF4B0RDyZNgTigDUeItsCMCFdTWU113Wl3MoKGEQR0D3NFYAaJvmA0uLplikD5nf2hxzutjoEDdRoMaS+iTPodCfV9WyrL8ADjSsHWk9bDgWy5nErc984jpQuXXocHwHlWuL8NEmFbGwvILmfvnFcqaxOJ1CegnKtow9AEgOt3tutZ6TyXLYrnLK98vXthHtVDYPDodxuh9widCl1reOdbMS1b82We6Vw8mg9D3kv0FZgEzEwXHAt1+T1XtCbESTR0FxoRbl5+tUMgBQCxFcdRhQ39xSPAuB7J9CtdQhdAbyT/gUYAIfcPyOnTyPUAAAAAElFTkSuQmCC" />
 
+    <!--
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
+    -->
+    <link rel="stylesheet" href="/css">
 
-    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous" xdefer></script>
+    <!-- script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous" xdefer></script -->
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous" xdefer></script>
     <script src="/js" xdefer></script>
 
diff --git a/AlarmClock/settingspage.h b/AlarmClock/settingspage.h
index cd7180d..57123e3 100644
--- a/AlarmClock/settingspage.h
+++ b/AlarmClock/settingspage.h
@@ -27,10 +27,13 @@ const char settingspage[] PROGMEM = R"=====(
     <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
     <link rel="shortcut icon" href="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyZpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTQ1IDc5LjE2MzQ5OSwgMjAxOC8wOC8xMy0xNjo0MDoyMiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTkgKFdpbmRvd3MpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjcyM0IyNEUzNzU1NTExRTlCMzkxRjQ2OEExQ0JBRDQyIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjcyM0IyNEU0NzU1NTExRTlCMzkxRjQ2OEExQ0JBRDQyIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NzIzQjI0RTE3NTU1MTFFOUIzOTFGNDY4QTFDQkFENDIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NzIzQjI0RTI3NTU1MTFFOUIzOTFGNDY4QTFDQkFENDIiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6w1L5cAAACMUlEQVR42sRX3ZGCQAwW5hqwBa4EeLqne8ASsAQoQUvQEqSEowR5uKd7ckuQFizBS5ys8xF3dUEcMxNxdDf58h+i8/k8eyd98EcURUGHs6/vOT1y4kSeSC1xx8/D3+8pRB4bH10+HgAgxaysJC4CDWuIawLSPgVALN4NUOwCUvk8chcAKU/psSeew88sqCY2zCS4k7McklS4dNxZ0FkTDIAElmI5ClmTkDowV/j+RgGp9H0nAIflHMely42SGzNXrCV8P5CsN564ASCXDpLlM0mkymPlTtw95ByHLLPGsO5YnV+BcuMTKpR4vvdIZBg4t8L/Y0CKfzLC5YT9ZikyL0aKrj4AcBPT1mb4FCSyti5dCKBQ9Ts1NS5dMbjfuqWd0nrlBVstiQ2D9UCqevqrCGWnCACzuHshgE5XTuw4dHohgBvZ8USCc4rpasxFF4B0RDyZNgTigDUeItsCMCFdTWU113Wl3MoKGEQR0D3NFYAaJvmA0uLplikD5nf2hxzutjoEDdRoMaS+iTPodCfV9WyrL8ADjSsHWk9bDgWy5nErc984jpQuXXocHwHlWuL8NEmFbGwvILmfvnFcqaxOJ1CegnKtow9AEgOt3tutZ6TyXLYrnLK98vXthHtVDYPDodxuh9widCl1reOdbMS1b82We6Vw8mg9D3kv0FZgEzEwXHAt1+T1XtCbESTR0FxoRbl5+tUMgBQCxFcdRhQ39xSPAuB7J9CtdQhdAbyT/gUYAIfcPyOnTyPUAAAAAElFTkSuQmCC" />
 
+    <!--
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
     <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">
+    -->
+    <link rel="stylesheet" href="/css">
 
-    <script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous" xdefer></script>
+    <!-- script src="https://code.jquery.com/jquery-3.5.1.min.js" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous" xdefer></script -->
     <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous" xdefer></script>
     <script src="/js" xdefer></script>
 
diff --git a/AlarmClock/wifipage.h b/AlarmClock/wifipage.h
index a3574b8..517146c 100644
--- a/AlarmClock/wifipage.h
+++ b/AlarmClock/wifipage.h
@@ -1,6 +1,7 @@
 const char wifipage[] PROGMEM = R"=====(
 <html>
 <head>
+  <!-- TODO: js and CSS as other pages -->
   <meta charset='utf-8'>
   <meta name="viewport" content="width=device-width, initial-scale=1">
   <!-- script src="microajax.js"></script -->
